一、索引数据结构的选择
索引数据结构的选择是具体数据库厂商决定，现在主流的数据库一般都以B+树为索引数据结构。

二、索引字段的选择
对于要建立索引的字段需要考虑几个基本方面：
1、该字段的值的排序价值高，避免选择一些复杂的字段建立索引，比如text字段，这种复杂字段的值体量大且排序耗时长。
2、该字段的值的类型要尽可能多，值的重复度过高即便建立索引效率也不太行，而且数据库可能直接转为全表扫描。
3、该字段经常作为筛选条件或关联条件，比如经常要在where子句、on子句、子查询in子句中使用的。

三、索引类型的选择
索引的类型可以分为主键索引、唯一索引、普通索引、联合索引。
1、主键索引
每一个表都必须有一个主键索引，如果没有显示指定主键，数据库一般会为表创建一个虚拟主键。
主键索引是必不可少的，一个表的数据行的物理顺序与主键索引的顺序直接关联。
主键索引是特殊的唯一索引，要求值唯一且非空。因此给表指定主键时要选择唯一且非空的字段。
比如在create语句中指定primary key(id)。
2、唯一索引
唯一索引要求字段的值是唯一不重复的，可以为NULL。
唯一索引是二级索引的一种，需要进行主键回表才能找到具体的数据行。
唯一索引的唯一性约束可自动对该字段的值去重，如果插入新的数据行时，新数据行该字段的值已经在表中存在，则无法插入成功。
利用表字段的唯一性约束可以避免插入重复的值，能够完成业务逻辑上该字段值的唯一性要求。
3、普通索引
对于单列的值不唯一的字段所建立的索引，也是二级索引的一种，同样需要主键回表才能定位到对应的数据行。
普通索引只针对单个字段建立，对字段值是否唯一不做要求。
多个普通索引字段出现在筛选条件中，如果没有非索引字段，并且用or或and操作符连接时，数据库可能会进行索引合并优化，即先根据
单列索引的所查找到的主键值做并集或交集后，再根据取集后的主键值去主键索引中查找数据行。
4、联合索引
基于两个或两个以上字段共同建立的索引，将这些字段从逻辑上当作一个字段。
联合索引选择的字段对唯一性、非空性不做要求，但应当尽量避免选择排序性差、值重复度高、使用率低、复杂性强的字段。
联合索引可以基于主键字段建立。
联合索引因为B+树节点数据存储方式而产生了一种最左前缀原则，联合索引中的索引字段，在筛选条件中如果没有使用最左侧的字段，
而只使用了中间或右边的字段，会导致数据库无法直接定位到这个联合索引。
因此如果查询字段里包含有非索引字段，将导致联合索引在该场景失效，数据库直接进行全表扫描；但如果查询字段里只包含索引字段，
会达到覆盖索引的效果，此时联合索引虽然不会失效，但是数据库依然不确定要扫描哪些索引，所以会扫描全部的索引。
所以如果违背了最左前缀原则，查询效率一定会降低，甚至可能降低为全表扫描。

四、索引与查询字段的配合
在select关键字后from关键字之前这中间部分的语句，我们称为select子句。
在select子句中输入的是表的具体字段（或包含字段别名），这些字段用英文逗号分隔，称为查询字段。
查询字段只包含索引字段（不管是哪个索引的），称为覆盖索引或索引覆盖。
因为只包含索引字段，因此数据库只需要扫描索引就能拿到想要的数据，但是如果筛选条件中没有显示应用索引字段，
数据库认为用户的查询预期是所有数据（当然是查询字段对应的数据），会采用全索引扫描的方式进行数据查找，而不是具体的某个索引扫描。
但无论如何，查询字段应当尽可能少，也应当尽可能只查索引字段，尤其是没有任何筛选条件时。

五、索引与筛选字段的配合
在where之后所接的词语我们称为where子句，其中所使用的字段我们称为筛选字段。
对于筛选频繁的字段，应该酌情建立索引，以提高数据筛选效率。
筛选条件中尽可能只用索引字段，最好是使用主键字段进行筛选。
另外需要注意筛选字段的使用要避免索引扫描降级或索引失效，比如函数调用、算术运算、位运算、隐式转换、前置模糊匹配、NULL值判断等。
筛选字段的选用如果涉及到联合索引中字段，尽可能遵循最左前缀原则。

六、索引与关联字段的配合
对于表的外键字段、两个表关联的字段、子查询中所查找的字段，也应该建立索引，尤其是使用频繁的。
外键字段或关联字段尽量指定为现有的主键或建立了唯一索引的字段，关联查询时会自动启用索引扫描，能大幅度提高联查效率。