XA协议是分布式事务处理的核心标准协议，由X/Open组织（现为The Open Group）制定，
通过规范事务管理器（TM）与资源管理器（RM）的交互，保障跨系统事务的ACID特性。

XA协议定义了分布式事务处理中三类核心角色：
事务管理器（TM）：全局事务的协调者，控制事务生命周期并执行两阶段提交协议；
资源管理器（RM）：本地事务的执行者，如支持XA的数据库（Oracle、MySQL、DB等），需实现xa_commit、xa_rollback等接口；
应用程序（AP）：通过TM发起和结束分布式事务，间接操作RM资源。

XA协议采用两阶段提交（PC）实现原子性：
1、准备阶段（Prepare）。
TM向所有RM发送xa_prepare请求。
RM执行本地事务预提交（日志持久化、资源锁定）。
RM返回YES/NO投票结果。 

2、提交/回滚阶段（Commit/Rollback）。
若所有RM返回YES：TM发送xa_commit完成全局提交。
任一RM返回NO：TM发送xa_rollback触发全局回滚。
核心优势与局限性

优势特性：
强一致性保障：严格遵循ACID原则。
标准化兼容性：主流数据库均实现XA接口。
故障恢复能力：通过xa_recover接口处理未完成事务。

局限性：
性能瓶颈：两阶段提交导致同步阻塞，高并发场景吞吐量低。
单点故障风险：TM故障可能导致参与者长期阻塞。
应用场景受限：主要适配关系型数据库，NoSQL、消息队列等支持有限。